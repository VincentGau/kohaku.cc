{% extends "hpc/base.html" %}

{% load static %}
{% load comments %}

{% block title %}:: Haku's - Haku's flying in the sky ::{% endblock %}

{% block content %}

    <div id="content">
        {% if articles_for_this_page %}
{#            if the for loop modified, remember to modify the raw_template in the infinite func in view.py to keep consistent#}
{#            {% for article in articles_for_this_page %}#}
{#                <article class="article-in-list">#}
{#                    {% get_comment_count for article as comment_count %}#}
{#                    <h1><a href="{{ article.get_absolute_url }}">{{ article.title | title }}</a></h1>#}
{#                    <time>{{ article.pub_date }}</time>#}
{#                    <div class="separator">|</div>#}
{#                    <a href="{{ article.get_absolute_url }}#comment-list"><span>{{ comment_count }} comments</span></a>#}
{#                    <div class="article-content">#}
{#                        <p>#}
{#                            {{ article.content | linebreaks | truncatechars_html:100 }}#}
{#                            <a href="{% url 'hpc:article_detail' article.url_title %}">#}
{#                                <nobr>Read more>></nobr>#}
{#                            </a>#}
{#                        </p>#}
{#                    </div>#}
{#                </article>#}
{#            {% endfor %}#}
            {% include "hpc/infinite_article_template.html" %}

        {% else %}
            <h4 style="margin-top:70px;">No articles exist.</h4>
        {% endif %}
    </div>

{% endblock %}

{% block include-script %}
<script type="text/javascript" src="{% static 'hpc/js/infinite.js' %}"></script>
{% endblock %}